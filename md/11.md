11         Textos
=================

El tipo de dato texto, también llamado cadena o string, es fundamental en los programas. Por eso dispone de muchas utilidades para facilitarnos el manejo de este tipo de datos. A continuación, veremos algunas funciones útiles para los textos, pero antes, conviene revelar algo sobre el texto:

11.1 Los textos son listas
--------------------------

Efectivamente, para el ordenador, un texto es como una lista. Una lista o cadena de letras, y la podemos tratar como tal:

```Python
texto = "Hola soy Ada"
texto[1] # "o"
```

Incluso podemos recorrer el texto como si fuera una lista:

```Python
texto = "Ada"

for caracter in texto:
    print(caracter)
```

La salida sería:

```console
A
d
a
```

También podemos saber la longitud de un texto con la función len():

```Python
texto = "Neko maulla"
len(texto)  # 11
```

Pero si duda, lo más interesante es que podemos extraer la parte que queramos del texto indicando el inicio y el final:

```Python
texto = "Python mola"
texto[0:6]  # "Python"
texto[7:12]  # "mola"
```

También se pueden sacar los primeros caracteres

```Python
texto = "Python mola"
texto[:6] # "Python"
```

O los últimos caracteres

```Python
texto = "Python mola"
texto[-4:] # "mola"
```

O simplemente el último de todos:

```Python
texto = "Python mola"
texto[-1] # "a"
```

11.2 Mayúsculas/Minúsculas
--------------------------

Tenemos una serie de funciones para convertir texto a mayúsculas o minúsculas:

```Python
texto = "Profesora Ada"
texto.upper() # PROFESORA ADA
texto.lower() # Profesora Ada
```

También tenemos una función llamada `title()`, la cual cambia cada palabra dentro de un texto, poniendo la primera letra en mayúsculas.

```Python
texto = "esto es una frase"
texto.title() # Esto Es Una Frase
```

11.3 split: de texto a lista
----------------------------

`split` es una interesante función que parte un texto en cachos y lo convierte en una lista:

```Python
texto = "ven conmigo si quieres vivir"
palabras = texto.split() # ["ven", "conmigo", "si", "quieres", "vivir"]
```

Por defecto el corte del split se hace en los espacios del texto. Pero se puede indicar cualquier otro separador, por ejemplo el punto y coma `;`:

```Python
texto = "Ada;Neko;Bug"
nombres = texto.split(";") # ["Ada", "Neko", "Bug" ]
```

11.4 Búsquedas
--------------

En ocasiones nos interesará buscar una palabra dentro de un texto. Para eso podemos usar la función find. En caso de encontrar la palabra, muestra la posición en la que se empieza esa palabra. Si no lo encuentra, devuelve `-1`.

```Python
palabras = "La mejor profesora es Ada, sin duda"
encontrado = palabras.find("mejor")  # 3
encontrado = palabras.find("Ada")  # 22
noEncontrado = palabras.find("xxx")  # -1
```

Si queremos saber si un texto empieza de alguna manera, se puede usar startswith()

```Python
palabras = "Python es un buen lenguaje"
empieza = palabras.startswith("Py") # True
empieza = palabras.startswith("es") # False
```

Mientras que si queremos saber si un texto acaba de una manera, se puede usar endswith():

```Python
palabras = "Python es un buen lenguaje"
acaba = palabras.endswith("aje") # True
acaba = palabras.startswith("ajes") # False
```

11.5 Eliminar sobrantes
-----------------------

Los textos pueden empezar o terminar con espacios en blanco u otros caracteres que quizá nos interese eliminar, como los saltos de línea. Para quitar esas partes sobrantes de un texto, se pueden usar las siguientes funciones.

Con `lstrip()` se eliminan los espacios al inicio del texto:

```Python
texto = "  Tengo espacios      "
limpio = texto.lstrip() # "Tengo espacios      "
```

Con `rstrip()` se eliminan los espacios al inicio del texto:

```Python
texto = "  Tengo espacios      "
limpio = texto.rstrip()  # "  Tengo espacios"
```

Y con `strip()` quitamos los espacios de ambos lados:

```Python
texto = "  Tengo espacios      "
limpio = texto.strip()  # "Tengo espacios"
```

Por defecto se quitan espacios, pero podemos indicar cualquier texto que queramos quitar:

```Python
texto = "--Texto con guión"
limpio = texto.lstrip("-") # "Texto con guión"
```

También los saltos de línea cuando leemos texto desde un fichero o desde la consola:

```Python
texto = "Esto tiene un salto de línean"
limpio = texto.rstrip("n")
```

11.6 Ejercicios propuestos
--------------------------

### 11.6.1 Ejercicio3.0

Escribe un programa que inicie una lista de 5 números (iniciados a 0), otro de 5 nombres iniciados a mano y otro de valores 5 booleanos (iniciados a false)

```Python
nombres = ["Frodo", "Sam", "Merrin", "Pippin"]
booleanos = [True]*5
numeros = [0]*5

print(nombres)
print(numeros)
print(booleanos)
```

Resultado:

```console
["Frodo", "Sam", "Merrin", "Pippin"]
[0, 0, 0, 0, 0]
[True, True, True, True, True]
```

### 11.6.2 Ejercicio3.1

Escribe un programa que defina una lista de 10 números. Luego debe crear un bucle que en las posiciones pares meta un 0.

```Python
numeros = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

for i in range(len(numeros)):
    if i % 2 == 0:
        numeros[i] = 0

print(numeros)
```

Resultado:

```console
[0, 2, 0, 4, 0, 6, 0, 8, 0, 10]
```

### 11.6.3 Ejercicio3.2

Escribe un programa para gestionar una lista, que muestre al usuario un menú con 4 opciones: (1) meter elemento, (2) eliminar, (3) mostrar y (4) salir. El menú debe mostrarse mientras el usuario no meta la opción 4. Si elige la opción 1, se hace push de un valor cualquiera, si elige 2 se hace pop, si elige 3 se muestra el contenido dla lista.

```Python
numeros = []
opcion = -1

while opcion != "4":
    print("Elige opción")
    print("1. Meter elemento.")
    print("2. Sacar elemento.")
    print("3. Mostrar lista.")
    print("4. Salir.")
    opcion = input("Elige opción: ")

    if "1":
        numeros.append(0)
    elif "2":
        numeros.pop()
    elif "3":
        print(numeros)
    elif "4":
        print("Hasta otra")
    else:
        print("Opción desconocida")
```

Resultado:

```console
Elige opción
1. Meter elemento.
2. Sacar elemento.
3. Mostrar lista.
4. Salir.
Elige opción: 3
[]
```

### 11.6.4 Ejercicio3.3

Escribe un programa que solicite palabras al usuario y las vaya concatenando para construir una frase, hasta que el usuario escriba un punto (.). Entonces el programa deberá mostrar la frase creada. Si el usuario no escribe nada, no se debe concatenar nada.

```Python
frase = ""
palabra = ""

while palabra != ".":
    palabra = input("Escribe una palabra: ")

    if palabra != "." or palabra != "":
        frase = frase + " " + palabra

print("Frase creada:", frase)
```

Resultado:

```console
Escribe una palabra: Hola
Escribe una palabra: qué
Escribe una palabra: tal
Escribe una palabra: .
Hola qué tal
```

### 11.6.5 Ejercicio3.4

Escribe un programa que solicite al usuario su nombre, su lugar de nacimiento y su año de nacimiento. Luego debe mostrar una frase con toda esa información utilizando la interpolación o plantillas de cadenas.

```Python
nombre = input("Escribe tu nombre: ")
lugar = input("Escribe tu lugar de nacimiento: ")
fecha = input("Escribe tu año de nacimiento: ")

mensaje = f"Te llamas {nombre} naciste en {lugar} en {fecha}"

print(mensaje)
```

Resultado:

```console
Escribe tu nombre: Ada
Escribe tu lugar de nacimiento: Teverga
Escribe tu año de nacimiento: 2006
Te llamas Ada naciste en Teverga en 2006
```

### 11.6.6 Ejercicio3.5

Escribe un programa que solicite al usuario una frase. Luego debe solicitar una palabra de esa frase, y como resultado, el programa devolverá la misma frase con esa palabra en mayúsculas:

```Python
frase = input("Escribe una frase: ")
palabra = input("Escribe una palabra de esa frase: ")

posicion = frase.index(palabra)

if posicion != -1:
    inicio = frase[0:posicion]
    final = frase[posicion + len(palabra):len(frase)]
    resultado = f"{inicio}{palabra.upper()}{final}"

    print(resultado)
else:
    print(palabra, "no está en la frase.")
```

Resultado:

```console
Escribe una frase: Qué buena es la profa Ada
Escribe una palabra de esa frase: buena
Qué BUENA es la profa Ada
```

### 11.6.7 Ejercicio3.6

Crea un programa que defina una lista de 5 nombres y luego utilice un bucle para mostrar los nombres de uno en uno.

```Python
nombres = ["Frodo", "Merrin", "Sam", "Pip", "Bilbo"]

for nombre in nombres:
    print(nombre)

# variante:
for i in range(len(nombres)):
    print(nombres[i])
```

Resultado:

```console
Frodo
Merrin
Sam
Pip
Bilbo
```

### 11.6.8 Ejercicio3.7

Crea un programa que defina una lista de 10 números enteros. Luego crea otro bucle que calcule que incremente en uno cada uno de los elementos y los muestre.

```Python
numeros = [3, 5, -4, 2, 1, 4, 0, 6, 9, 8, 3]

for i in range(len(numeros)):
    numeros[i] = numeros[i] + 1

print(numeros)

# Alternativa para la suma:
# numerosIncrementados = numeros.map( numero => numero + 1 )
```

Resultado:

```console
[4, 6, -3, 3, 2, 5, 1, 7, 10, 9, 4]
```

### 11.6.9 Ejercicio3.8

Crea un programa que defina una lista de 10 números enteros Luego crea un bucle que determine si en la lista hay algún elemento repetido. Con que encuentre uno repetido es suficiente.

```Python
numeros = [3, 5, -4, 2, 1, 4, 0, 6, 9, 8, 3]
repetido = False
i = 0
j = 0

while i < len(numeros) and not repetido:
    while j < len(numeros):
        if numeros[i] == numeros[j]:
            repetido = True
            break
        j = j + 1
    i = i + 1

if repetido:
    print("Hay un número repetido")
else:
    print("No hay un número repetido")
```

Resultado:

```console
Hay un número repetido
```

### 11.6.10                  Ejercicio 3.9

Crea un programa que defina una lista iniciado con 10 números enteros. Luego crea otro bucle que contabilice el total de números positivos, negativos y los que sean 0.

```Python
numeros = [3, 5, -4, 2, 1, 4, 0, 6, -9, 8, 3]

positivos = 0
negativos = 0
ceros = 0

for numero in numeros:
    if numero > 0:
        positivos = positivos + 1
    elif numero < 0:
        negativos = negativos + 1
    else:
        ceros = ceros + 1

print("Positivos: ", positivos)
print("Negativos: ", negativos)
print("Ceros: ", ceros)
```

Resultado:

```console
Positivos:  8
Negativos:  2
Ceros:  1
```

### 11.6.11                  Ejercicio 3.10

Crea un programa que defina una lista de dos dimensiones de 5x10 elementos. Crea un bucle que inicie los valores de la lista usando números aleatorios. Para crear números aleatorios importa la librería random y utiliza la función random.randint(), tal y como se muestra aquí:


```Python
import random
random.randint(0, 30); # número aleatorio entre 0 y 30
```

Después de eso crea otro bucle que si encuentra el número 15 en algún elemento interrumpa el bucle y muestre la posición en la que está.

```Python
import random

matriz = [([0] * 10)] * 5

print(matriz)

for i in range(len(matriz)):
    random.seed()
    for j in range(len(matriz[i])):
        matriz[i][j] = random.randint(0, 30)

print(matriz)

for i in range(len(matriz)):
    for j in range(len(matriz[i])):
        if matriz[i][j] == 15:
            print("Encontrado 15 en ", i, )
```

### 11.6.12                  Ejercicio 3.11

Crea un programa que defina una lista iniciado con 10 números enteros. En un bucle muestra por pantalla todos los elementos. Luego crea otro bucle que baraje los elementos usando el método random del ejercicio anterior en los índices. Luego muestra el resultado.

```Python
import random

numeros = [4, 7, -3, 7, 1, 11, 9, 0, 5, 8]

print(numeros)

for i in range(len(numeros)):
    indiceAleatorio = random.randint(0, len(numeros) - 1)
    anterior = numeros[i]
    numeros[i] = numeros[indiceAleatorio]
    numeros[indiceAleatorio] = anterior

print(numeros)
```

Resultado:

```console
[5, 4, 11, 7, 1, -3, 0, 9, 7, 8]
```
